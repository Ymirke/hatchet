WebhookWorker:
  x-resources: ["tenant", "event"]
  properties:
    metadata:
      $ref: "./metadata.yaml#/APIResourceMeta"
    url:
      type: string
      description: The webhook url.
    secret:
      type: string
      description: The secret key for validation.
  required:
    - metadata
    - url
    - secret
  type: object

WebhookWorkerCreateRequest:
  properties:
    url:
      type: string
      description: The webhook url.
    workflows:
      type: array
      description: The workflows to register for this webhook worker.
      items:
        type: string
        format: uuid
        minLength: 36
        maxLength: 36
    secret:
      type: string
      description: The secret key for validation. If not provided, a random secret will be generated.
      minLength: 32
  required:
    - url
    - workflows
  type: object

WebhookWorkerCreateResponse:
  properties:
    worker:
      $ref: "#/WebhookWorker"
  type: object

WebhookWorkerListResponse:
  properties:
    pagination:
      $ref: "./metadata.yaml#/PaginationResponse"
    rows:
      items:
        $ref: "#/WebhookWorker"
      type: array
  type: object
